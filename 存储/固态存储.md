### SSD  

22.2.15  

NAND闪存：用电荷存储信息，特点是先擦后写，擦写寿命有限  
- 地址映射，均衡磨损，垃圾回收，坏块管理  
- 介质：闪存、MRAM  
- 固态电子存储芯片阵列  
- 组成：主控、闪存、缓存芯片DRAM、PCB、接口  
- 存储介质：光学存储介质、半导体存储介质、磁性存储介质  
- 16KB闪存页  
- HDD：1988费尔和格林贝格尔，巨磁阻效应，提高了HDD容量  
- SSD闪存：姜大元和施敏，浮删晶体管，高阻抗材料包裹，保存电荷  
- SLC  
- MLC  
- SSD接口->FTL（地址转换，垃圾回收、坏块管理磨损均衡）->NAND接口
- ONFI、Toggle协议  
- 闪存不能覆盖写  
- 顺序读、随机写、随机混合读写  
- 满盘，触发垃圾回收，写性能下降  
- M.2 U.2 
- PCIe、NVMe  
- 通道  
- 

### 主控  
- ECC error Correcting code  
- Die/LUN  
- HAM hardware accelerate modem  
- RAID 独立冗余磁盘阵列  

- A2H（数据块逻辑地址-hash）  
- H2P（hash-ssd物理存放地址）  
- P、M、L、R、C、D  
- RPC remote procedure call  
- 全闪存阵列-核心在软件  
### 存储介质：闪存  
- nand  
- SLC，single Level Cell  
- Mlc，
- TLC  
- QLC  
- DIE、Plane、Block、Page、Wordline
- DIe是接收闪存命令的最小单位  
- plane有自己的cache reg，大小等于1个page    
- page，cache到介质的单位  
- page reg  
- 擦除是以block为单位，block公用一个衬底  
-   
- 浮删晶体管、电井Charge Trap  
- 氧化物变薄老化，隧道氧化层  
- PRAM，相变存储器  
- 同步时序  
- CLK和DQS  
- DDR double Date Rate  
- ONFI和Toggle协议  

- 问题
- 坏块  
- 读干扰，记录读写次数，然后重新刷新   
- 数据巡检  
- 
### FTL  
- 逻辑地址空间到闪存物理地址空间的翻译，映射  
- 闪存块先擦除后写，不能覆盖写  
- 每个闪存块的读的次数是有限的，
- 映射管理  
- 基于块  
  - 用户逻辑块，业内偏移不变
- 基于页  
- 混合映射  
- LBA，逻辑块地址  
- LP，逻辑页  
- 映射表大小是容量的千分之一  
- 4KB，物理地址4Byte  
- 板载DRAM，存储map  
- 二级映射，需要2次内存才能完成读操作，随机性能不好  
- HMB，host memory buffer  
- 映射表刷新  
- OP，over Provisioning    
- WA，  
- 元数据  
- GC，闪存块的bitmap  
- HMS，host manage SSD  
- Trim，ssb不知道系统删除数据，ATA命令，  
- 异常掉电，加电容  
- 全盘扫描所有映射关系，元数据  
- checkout point，快照  
- SLC cache  
-   
- 
- end
