## 第三章 词法分析  
- 词法结构图  
- Lex、Flex词法分析器  
- 正则表达式：方便描述词素模式的方法  
- 不确定有穷自动机  
- 确定有穷自动机  
### 3.1 词法分析器的作用  
- 字符-》词法单元序列，词素。

- 识别词素  
- 过滤注释和空白  
- 编译器生成的错误信息与源程序位置联系

- 读取输入字符缓冲技术、增强可移植性    
3.1.2 词法单元、模式和词素  
  - 词法单元：词法单元名和可选属性  
  - 模式词素的可能具有的形式  
  - 词素：一个字符序列  
  - 恐慌模式  
### 3.2 输入缓冲  
  - 双缓冲区方案  
  - 哨兵标记  
### 3.3 词法单元的约束  
 - 正则表达式：一种用来描述词素模式的重要表示方法。  
   - 竖线：表示并运算，也就是或  
   - 括号：把子表达式组合  
   - 星号：零个或多个  
   - 并列：表示连接  
 - 语言的闭包L*
 - 语言的运算
   - 并
   - 连接
   - 闭包
 - 规则：表达式r表示L（r）
 - 
    - 归纳基础：
      （1）e是表达式，则L(e)={e}
      （2）a是E上的符号，则L(a)={a}
    - 归纳步骤  
      - (r)|(s),表示L(r)|L(s)  
      - (r)(s)
      - (r)*
      - (r)：表达式加括号，不影响表达式的语言  
    - 约定
      - *优先级最高  
      - 连接次高，左结合  
      - |优先级最低，左结合  
  - 正则集合  
  - 等价：r=s  
  - 正则定义  d1->r1  
  - C语言的标识符：
    - letter -> [A-Za-Z_]
    - letter_(letter_|digit)*  
  - 正则表达式的扩展  
    - 一个或多个实例，+  
    - 零个或一个实例  ？  
    - 字符类  a1|a2……an等价于[a1a2。。。an]如果逻辑上连续[a1-an]
    - 运算符字符  
      > \ " . ^补集字符类  $ [ ] * + ? { } | /
    - ^匹配一行的最左端，$匹配一行的最右端  
### 3.4 词法单元的识别  
  - 状态转换图  
3.5 词法分析器生产工具Lex  
  - Lex语言  
  - Lex编译器  
  - lex.yy.c  
  ~~~
  声明
  %%
  转换规则
  %%
  辅助函数
  ~~~  
  - 模式{动作}  
  - 冲突解决：选择最长的前缀、选择先被列出的模式  
  - 向前看运算符 /  
### 3.6 有穷状态机  
    - 节点：状态
    - 带标号的边，表示转换函数  
  - 转换表transition table    
  - DFA到NFA：子集构造法  .
  - 时间-空间权衡的方法  
  - O（n）：最多某个常数乘以n
  - 重要状态：一个NFA状态有一个标号非e的离开转换。   
  - （r）#  
  - 状态和字符为下标的二维表  
  - 压缩转换表  
  - 转换链表  
      
